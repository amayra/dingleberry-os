User environment
----------------

All addresses are in the lower half of the address (pointer MSB never set for
valid addresses). Accesses to the kernel half always generates faults.

Syscall ABI
-----------

ecall is used for syscall entry. Unlike the SBI and other kernels (such as
Linux), this does not save all registers, but follows the RISC-V ELF psABI for
procedure calls. In addition, a7 is used to pass the syscall number, and ra is
callee (i.e. kernel) saved.

Preserved/immutable: zero, ra, sp, gp, tp, s0-s11
Syscall number (not preserved): a7
Arguments (not preserved): a0-a6
Other not preserved: t0-t6

Like with the normal ABI, arguments are passed in a0-a6 (in order), and return
values are passed back in a0. If there is no return value, a0 is not preserved.

Syscalls
--------

SYS_GET_TIMER_FREQ (0):
    Returns non-0 timer frequency for rdtime.

SYS_DEBUG_WRITE_CHAR (1):
    Write an ASCII character given by the 8 LSB in the first argument to the
    debug console.

SYS_DEBUG_STOP (2):
    Make the world end.

SYS_THREAD_CREATE (3):
    Create a new thread. Basic toy-like functionality, so don't say anything.

    arg0: PC
    arg1: SP
    arg2: TP
